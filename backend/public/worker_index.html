<html>

<head>
  <title>WORKER_INDEX</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
  <h1>WORKER_INDEX</h1>
  <button id="button">open sub</button>

  <script>

    const openSub = () =>
    {
      window.open(
          '/sub',
          '_blank',
          'toolbar=0, menubar=no',
      );
    }
    document.getElementById('button').addEventListener('click', openSub);

    if (window.Worker) {
      const worker = new Worker('/javascripts/worker.js');
      worker.onmessage = (event) => {
        console.log('main receive', event.data);
      };
      setTimeout(() => {
        worker.postMessage(['Hello', 'worker']);
      }, 3000);
      
    } else {
      console.log('Web Worker is not supported in this browser.');
    }
  </script>
</body>

</html>